/*
 Theme Name:  Fleurs d'orangers et chats errants - Oscars Short
 Theme URI: https://www.koukaki.local
 Author: Studio Koukaki
 Author URI: https://www.koukaki.local
 Template: foce
 Description: Thème enfant à l'ocasion de la nomination aux Oscars Shorts
 Version: 0.1
 */

 /* Animation fade-in descendant */
@keyframes fadeInDown {
  from {
    opacity: 0;
    transform: translateY(-100px); 
  }
  to {
    opacity: 1;
    transform: translateY(0); 
  }
}

/* Animation fade-in ascendant */
@keyframes fadeInUp {
  from {
    opacity: 0;
    transform: translateY(100px); 
  }
  to {
    opacity: 1;
    transform: translateY(0); 
  }
}

/* Animation de flottement du logo */
@keyframes float {
  0%, 100% {
    transform: translate(0, 0);
  }
  20%, 60% {
    transform: translate(5px, -5px);
  }
  40%, 80% {
    transform: translate(-5px, 5px);
  }
}

/* Animation rotation des fleurs */
@keyframes rotateFlower {
  from {
      transform: rotate(0deg);
  }
  to {
      transform: rotate(360deg);
  }
}

.banner {
  position: relative;
  overflow: hidden; 
  opacity: 0; 
  animation: fadeInDown 2s ease-in-out forwards; 
  animation-delay: 0.5s; 

  img {
    width: 100%;
    margin: 0 auto;
  }
  
  .parallax-logo {
    position: relative;
    z-index: 2;
  }

  .float {
    animation: float 6s ease-in-out infinite;
  }
}

.story h2::before, .story__article::before {
  opacity: 0;
  animation: fadeInUp 2s ease-in-out forwards;
  animation-delay: 0.5s; 
}

#studio h2::before, 
#studio h2::after, 
.site-footer::before, 
.site-footer::after, 
.site-footer ul::after {
    animation: rotateFlower 15s infinite linear;
    animation-delay: 2s;
}

/* Animation fadeInUp + rotate */
.story__article::after, 
.story h2::after {
  opacity: 0;
  animation: fadeInUp 2s ease-in-out forwards, rotateFlower 15s infinite linear;
}

/* Vidéo */
.background-video {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  z-index: 1; /* Derrière le logo */
  object-fit: cover; 

  @media (max-width: 768px) {
        display: none;
  }
}

//////// Animation des titres ////////
span.title {
  display: inline-block; /* Permet d'animer l'élément de manière indépendante */
  opacity: 0;
  transform: translateY(100px); /* Le titre est positionné 80px plus bas */
  transition: opacity 1.5s ease-out, transform 1.5s ease-out;

  &.show {
    opacity: 1;
    transform: translateY(0); 
  }

  &.koukaki {
    transition: opacity 2s ease-out, transform 2s ease-out; 
    transition-delay: 0.5s; 
  }
}

//////Slider personnages//////

#story {
  
  #characters {
  display: flex;
  flex-direction: column;

    .swiper-container {
      max-width: 100%; 
      margin: 0 auto; 
      height: 400px;

      .swiper-slide {
        display: flex;
        justify-content: center; 
        padding: 0 30px;
        box-sizing: border-box;
        text-align: center;
        width: 300px !important;
      } 
    }
  }

  /*.swiper-3d .swiper-slide-shadow-left,
  .swiper-3d .swiper-slide-shadow-right {
    background-image: none !important;
  }*//////
}

//////// Nuages /////////

.story #place {
  background-image: url("../assets/images/Studio_Koukaki-image_place.png");
  position: relative;
  overflow: hidden;

  .big-cloud, .little-cloud {
    position: absolute;
    filter: blur(10px);
    transition: transform 2s ease-in-out;
  }
  
  .big-cloud {
    top: 60px;
    right: 60px; 
  }
  
  .little-cloud {
    top: 230px; 
    right: 400px; 
  }

}

///////// Section Oscars ///////////
#oscar {
  > div {
    display: flex;
    justify-content: center;
    align-items: center;
    margin-top: 5em;

    @media (max-width: 768px) {
      flex-direction: column;
    }
  }

  .txt-oscar {
    background-image: url("../../foce/assets/images/orange_characters_bg.png");
    font-size: 38px;
  }
}

/* Navigation
--------------------------------------------- */
.main-navigation {
  display: flex;
  align-items: center; 
  justify-content: space-between; 
  position: relative;

  .site-title {
    flex-grow: 1; /* Le titre prend tout l'espace disponible */
    text-align: center;
    padding-left: 80px;
  }
  
  .menu-toggle, .toggled ul {
    display: block;
  }

  button {
    margin: inherit;
  }

  .menu-toggle {
    position: relative;
    padding-right: 80px;

    .line {
      width: 40px;
      height: 1px;
      margin-bottom: 6px;
      transition: all 0.3s ease;
    }
  }

  /* Transformation des lignes en croix (état toggled) */
  &.toggled .menu-toggle .line:nth-child(1) {
    transform: rotate(45deg) translate(5px, 5px) !important; /* Première ligne devient la barre haute de la croix */
    top: 50%;
    translate: -50% -50%; /* Centrage vertical exact */
  }

  &.toggled .menu-toggle .line:nth-child(2) {
    opacity: 0 !important; 
  }

  &.toggled .menu-toggle .line:nth-child(3) {
    transform: rotate(-45deg) translate(5px, -5px) !important; /* Troisième ligne devient la barre basse de la croix */
    top: 50%;
    translate: -50% -50%; /* Centrage vertical exact */
  }

  ul {
    display: none;
    position: absolute; /* Positionné par rapport au parent .main-navigation */
    width: 100%;  
    height: auto;
    top: 100%;  /* Le menu s'affiche juste en dessous du header */
    left: 0;
    background-color: #fff5e9;
    margin: 0;
    padding: 3em 0;
    text-align: center;

    li {
      padding: 1em;
      a {
        font-size: 24px;
      }
    }
  }
}

